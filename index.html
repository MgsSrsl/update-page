<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –°–∫–ª–∞–¥—Å–±–æ—Ä–∫–∞</title>
  <style>
    :root{
      --glass-bg: rgba(255,255,255,.1);
      --glass-stroke: rgba(255,255,255,.2);
      --panel-bg: rgba(255,255,255,.08);
      --text: #eee;
      --muted: #bbb;
      --accent: #ff5252;
      --accent-2: #ff8a80;
      --shadow: 0 4px 20px rgba(0,0,0,.3);
    }

    /* ====== BASE ====== */
    html,body{height:100%}
    body{
      margin:0; color:var(--text); font-family:"Segoe UI",system-ui,sans-serif;
      background:url("https://img.goodfon.ru/wallpaper/nbig/6/be/priroda-igry-peizazhi-igra-game-landscape-nature-castle-sred.webp") center/cover no-repeat fixed;
      position:relative;
      display:flex; flex-direction:column; align-items:center;
      box-sizing:border-box;
      padding:24px 16px 120px; /* –∑–∞–ø–∞—Å –ø–æ–¥ –ø–ª–∞–≤–∞—é—â–∏–µ –∫–Ω–æ–ø–∫–∏ */
    }
    body::before{content:""; position:fixed; inset:0; background:rgba(0,0,0,.6); z-index:0}
    .page{ position:relative; z-index:1; width:min(740px,100%); }

    h1{margin:0 0 8px; text-align:center; color:var(--accent)}
    #versionLine{margin:0 0 18px; text-align:center; color:#ddd}

    .card{
      background:var(--glass-bg); backdrop-filter:blur(6px);
      border:1px solid var(--glass-stroke); border-radius:12px; box-shadow:var(--shadow);
      padding:18px 16px; margin-bottom:16px;
    }

    /* ====== MAIN CHANGELOG ====== */
    .changelog h2{margin:0 0 10px; text-align:center; color:var(--accent-2)}
    .changelog h3{margin:14px 0 6px; color:#ffd1ce}
    .changelog ul{margin:0 0 8px 18px; padding:0; line-height:1.5}
    .changelog li{margin:4px 0}

    .download-btn{
      display:block; margin:18px auto 6px; text-decoration:none; text-align:center;
      background:#d32f2f; color:#fff; font-weight:700; font-size:18px; padding:14px 36px;
      border-radius:10px; box-shadow:0 0 15px rgba(211,47,47,.4); transition:background .2s, transform .1s;
    }
    .download-btn:hover{background:#b71c1c; transform:translateY(-1px)}
    footer{ text-align:center; color:var(--muted); font-size:13px; }

    /* ====== HISTORY PANEL ====== */
    .layout{
      display:grid; grid-template-columns: minmax(0,1fr) 360px; gap:16px; align-items:start;
      width:min(1100px,100%);
    }
    .history{
      position:sticky; top:20px; max-height:75vh; overflow:auto;
      background:var(--panel-bg); border:1px solid var(--glass-stroke); border-radius:12px;
      padding:12px 14px; box-shadow:var(--shadow); backdrop-filter:blur(8px);
    }
    .history h2{margin:0 0 10px; text-align:center; color:var(--accent-2)}
    .old-version{border-top:1px solid var(--glass-stroke); padding-top:10px; margin-top:10px}
    .old-version strong{display:block; color:#ffd1ce; margin-bottom:6px}
    #history-toggle{ text-align:center; margin-top:8px; cursor:pointer; user-select:none }
    #history-list.collapsed{ display:none }

    /* ====== FLOATING BUTTONS ====== */
    .fab{
      position:fixed; right:18px; z-index:5;
      border:none; border-radius:12px; color:#fff; font-weight:700; font-size:15px;
      padding:12px 16px; cursor:pointer; box-shadow:0 2px 8px rgba(0,0,0,.4);
      transform:translateY(0); opacity:1; transition:opacity .2s, transform .2s;
    }
    #gearBtn{
      bottom:24px; width:54px; height:54px; border-radius:50%;
      background:rgba(255,255,255,.18); backdrop-filter:blur(6px); font-size:22px; padding:0;
    }
    #addReleaseBtn{ bottom:88px; background:#ff5252; display:none; }
    #exportBtn{ bottom:152px; background:#2e7d32; display:none; }

    body.edit-mode #addReleaseBtn,
    body.edit-mode #exportBtn{ display:block; }

    /* —á—Ç–æ–±—ã –Ω–∏—á–µ–≥–æ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å –Ω–∞ —É–∑–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö ‚Äî –∫–Ω–æ–ø–∫–∏ –≤–≤–µ—Ä—Ö –ø–æ —Å—Ç–µ–∫—É */
    @media (max-width: 900px){
      .layout{
        grid-template-columns: 1fr;
      }
      .history{
        position:static; max-height:none;
      }
      body{ padding-bottom: 140px; } /* –∑–∞–ø–∞—Å –ø–æ–¥ —à–µ—Å—Ç–µ—Ä—ë–Ω–∫—É */
      /* –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –¥–ª—è –∫–Ω–æ–ø–æ–∫ –Ω–∞ –º–æ–±–∏–ª–∫–µ */
      #exportBtn{ bottom: 168px; }
      #addReleaseBtn{ bottom: 104px; }
      #gearBtn{ bottom: 24px; }
    }

    /* ====== MODALS ====== */
    .modal{ display:none; position:fixed; inset:0; background:rgba(0,0,0,.7); z-index:1000;
            align-items:center; justify-content:center; padding:16px }
    .modal-card{
      background:#222; color:#fff; border-radius:12px; box-shadow:var(--shadow);
      width:min(900px, 96%); max-height:92vh; overflow:auto; padding:18px;
    }
    .modal h2{ margin:0 0 12px }
    .form-row{ display:grid; grid-template-columns: 1fr 1fr; gap:12px; margin-bottom:10px }
    .form-row .full{ grid-column:1/-1 }
    input, textarea{
      width:100%; box-sizing:border-box; border:1px solid #444; background:#111; color:#fff;
      border-radius:8px; padding:10px; font-size:15px;
    }
    textarea#relNotes{ min-height: 50vh; } /* –ë–û–õ–¨–®–û–ï –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ */
    .actions{ display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap; margin-top:10px }
    .btn{ border:none; border-radius:8px; padding:10px 14px; font-weight:700; color:#fff; cursor:pointer }
    .btn-primary{ background:#ff5252 }
    .btn-secondary{ background:#555 }
    .btn-copy{ background:#1976d2 }
  </style>
</head>
<body>
  <div class="layout">
    <!-- MAIN -->
    <main class="page">
      <h1>üì¶ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –°–∫–ª–∞–¥–°–±–æ—Ä–∫–∞</h1>
      <p id="versionLine">–í–µ—Ä—Å–∏—è 1.3.2 –æ—Ç 21 –æ–∫—Ç—è–±—Ä—è 2025</p>

      <section class="card changelog" id="mainChangelogBlock">
        <h2>üî• HotFix ‚Äî 1.3.2</h2>

        <h3>üë∑ –£ –∫–ª–∞–¥–æ–≤—â–∏–∫–∞</h3>
        <ul>
          <li>üîÅ –ö–Ω–æ–ø–∫–∞ —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á + –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.</li>
          <li>‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.</li>
        </ul>

        <h3>üßë‚Äçüíº –£ –Ω–∞—á–∞–ª—å–Ω–∏–∫–∞</h3>
        <ul>
          <li>üì¶ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–∞–º–æ–≤—ã–≤–æ–∑–∞—Ö (–±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å –≤—Ä—É—á–Ω—É—é).</li>
        </ul>

        <h3>üí¨ –£ –º–µ–Ω–µ–¥–∂–µ—Ä–∞</h3>
        <ul>
          <li>üîî –û–±—Ä–∞—Ç–Ω—ã–µ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö (–≤–æ–∑–≤—Ä–∞—Ç—ã, –∑–∞–∫–∞–∑—ã –Ø–Ω–¥–µ–∫—Å) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è.</li>
        </ul>

        <h3>üåê –£ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h3>
        <ul>
          <li>üü¢ –ò–Ω–¥–∏–∫–∞—Ü–∏—è —Å–≤—è–∑–∏: ¬´–í —Å–µ—Ç–∏¬ª (–∑–µ–ª—ë–Ω–∞—è), ¬´–ü–ª–æ—Ö–∞—è —Å–≤—è–∑—å¬ª (–∂—ë–ª—Ç–∞—è); –ø—Ä–∏ –ø–æ–ª–Ω–æ–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ ‚Äî –≤—Å–ø–ª—ã–≤–∞—é—â–∏–π –±–∞–Ω–Ω–µ—Ä ¬´–≤ –≤–∞–≥–æ–Ω—á–∏–∫–µ –µ—Å—Ç—å Wi-Fi¬ª.</li>
          <li>üñºÔ∏è –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª —Ñ–æ—Ç–æ –≤ –ø—Ä–µ–≤—å—é –∑–∞–¥–∞—á–∏.</li>
          <li>‚è±Ô∏è –í –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è, –≤–∑—è—Ç–∏—è –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.</li>
        </ul>
      </section>

      <a class="download-btn" href="https://apk-download-gamma.vercel.app/app-release.apk" download>‚¨á –°–∫–∞—á–∞—Ç—å APK</a>
      <footer>MgsINC ¬© <span id="year">2025</span></footer>
    </main>

    <!-- HISTORY -->
    <aside class="history" id="versionsPanel" aria-label="–ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π">
      <h2>üìú –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π</h2>

      <div class="old-version">
        <strong>–í–µ—Ä—Å–∏—è 1.3.1</strong>
        <ul>
          <li>Hotfix: —Ä–µ–∂–∏–º ¬´–∫–∞—Ä–∞–Ω–¥–∞—à/–ø—Ä–∏–±–ª–∏–∑–∏—Ç—å¬ª ‚Äî –±–µ–∑ –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö –æ–∫–æ–Ω.</li>
          <li>–ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–¥–∞—á–∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞ –ø–æ –≤—Å–µ–π –æ–±–ª–∞—Å—Ç–∏.</li>
          <li>–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –∑–∞–¥–∞—á.</li>
          <li>–ò–Ω–¥–∏–∫–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∑–∞–¥–∞—á–∏.</li>
          <li><b>New Feature:</b> –ø–µ—á–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/—Ñ–∞–π–ª–∞ –ø—Ä—è–º–æ –∏–∑ –∑–∞–¥–∞—á–∏.</li>
        </ul>
      </div>

      <div class="old-version">
        <strong>–í–µ—Ä—Å–∏—è 1.2</strong>
        <ul>
          <li>–ë–∞–Ω–Ω–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏ + –∑–∞–ø–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.</li>
          <li>–ö–Ω–æ–ø–∫–∞ ¬´–°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ¬ª –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á–∏.</li>
          <li>–ü–æ—á–∏–Ω–µ–Ω—ã push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚Äî —Ç–∞–ø –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—É—é –∑–∞–¥–∞—á—É.</li>
          <li>–°–∏—Å—Ç–µ–º–∞ –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏ –∏ –æ—á–∏—Å—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á (—Ä–µ–∂–∏–º –Ω–∞—á–∞–ª—å–Ω–∏–∫).</li>
          <li>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞–Ω–∏–π –ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π (—Ä–µ–∂–∏–º –∫–ª–∞–¥–æ–≤—â–∏–∫–∞).</li>
          <li>–ö–Ω–æ–ø–∫–∞ ¬´–í—ã—Ö–æ–¥¬ª –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤–Ω–∏–∑ –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞.</li>
        </ul>
      </div>

      <div id="history-toggle">–ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –æ—Å—Ç–∞–ª—å–Ω–æ–µ</div>
      <div id="history-list" class="collapsed">
        <!-- —Å—é–¥–∞ –º–æ–∂–Ω–æ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –µ—â—ë –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–µ —Ä–µ–ª–∏–∑—ã -->
      </div>
    </aside>
  </div>

  <!-- FLOATING BUTTONS (hidden under gear) -->
  <button id="gearBtn" class="fab" aria-label="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ" title="–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ">‚öôÔ∏è</button>
  <button id="addReleaseBtn" class="fab" title="–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ª–∏–∑">‚ûï Add</button>
  <button id="exportBtn" class="fab" title="–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å index.html">üìÑ Export</button>

  <!-- MODAL: Add release -->
  <div class="modal" id="addModal" role="dialog" aria-modal="true" aria-labelledby="addModalTitle">
    <div class="modal-card">
      <h2 id="addModalTitle">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é</h2>
      <div class="form-row">
        <div><input id="relVer" placeholder="–í–µ—Ä—Å–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä 1.3.3)" /></div>
        <div><input id="relDate" placeholder="–î–∞—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä 21 –æ–∫—Ç—è–±—Ä—è 2025)" /></div>
        <div class="full"><textarea id="relNotes" placeholder="–í–≤–æ–¥–∏ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ. –ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ ‚Äî –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.&#10;–ü—Ä–∏–º–µ—Ä:&#10;üë∑ –£ –∫–ª–∞–¥–æ–≤—â–∏–∫–∞&#10;üîÅ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è...&#10;üßë‚Äçüíº –£ –Ω–∞—á–∞–ª—å–Ω–∏–∫–∞&#10;üì¶ ..."></textarea></div>
      </div>
      <div class="actions">
        <button class="btn btn-primary" id="saveRelease">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button class="btn btn-secondary" id="closeAdd">‚úñ –ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
  </div>

  <!-- MODAL: Export -->
  <div class="modal" id="exportModal" role="dialog" aria-modal="true" aria-labelledby="exportTitle">
    <div class="modal-card">
      <h2 id="exportTitle">–ì–æ—Ç–æ–≤—ã–π index.html</h2>
      <textarea id="fullIndexArea" readonly></textarea>
      <div class="actions">
        <button class="btn btn-copy" id="copyIndex">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        <button class="btn btn-secondary" id="closeExport">‚úñ –ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
  </div>

  <script>
    (function(){
      const $ = (s, root=document) => root.querySelector(s);
      const $$ = (s, root=document) => Array.from(root.querySelectorAll(s));

      // year
      $('#year').textContent = String(new Date().getFullYear());

      // History toggle
      const historyToggle = $('#history-toggle');
      const historyList = $('#history-list');
      historyToggle.addEventListener('click', () => {
        historyList.classList.toggle('collapsed');
      });

      // Gear -> show/hide tools
      const gear = $('#gearBtn'), addBtn = $('#addReleaseBtn'), expBtn = $('#exportBtn');
      let edit = false;
      gear.addEventListener('click', () => {
        edit = !edit;
        document.body.classList.toggle('edit-mode', edit);
        gear.setAttribute('aria-pressed', edit ? 'true' : 'false');
      });

      // Add modal
      const addModal = $('#addModal');
      $('#addReleaseBtn').addEventListener('click', () => {
        // –∞–≤—Ç–æ–ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞—Ç—ã
        const d = new Date();
        const months = ['—è–Ω–≤–∞—Ä—è','—Ñ–µ–≤—Ä–∞–ª—è','–º–∞—Ä—Ç–∞','–∞–ø—Ä–µ–ª—è','–º–∞—è','–∏—é–Ω—è','–∏—é–ª—è','–∞–≤–≥—É—Å—Ç–∞','—Å–µ–Ω—Ç—è–±—Ä—è','–æ–∫—Ç—è–±—Ä—è','–Ω–æ—è–±—Ä—è','–¥–µ–∫–∞–±—Ä—è'];
        $('#relDate').value = `${d.getDate()} ${months[d.getMonth()]} ${d.getFullYear()}`;
        $('#relVer').value = '';
        $('#relNotes').value = '';
        addModal.style.display = 'flex';
      });
      $('#closeAdd').addEventListener('click', ()=> addModal.style.display='none');

      // Export modal
      const exportModal = $('#exportModal');
      $('#exportBtn').addEventListener('click', () => {
        $('#fullIndexArea').value = document.documentElement.outerHTML;
        exportModal.style.display = 'flex';
      });
      $('#copyIndex').addEventListener('click', () => {
        const ta = $('#fullIndexArea'); ta.select(); document.execCommand('copy');
      });
      $('#closeExport').addEventListener('click', ()=> exportModal.style.display='none');

      // Save release (–¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–≤–µ—Ä—Ö—É)
      $('#saveRelease').addEventListener('click', () => {
        const ver = $('#relVer').value.trim();
        const date = $('#relDate').value.trim();
        const notes = $('#relNotes').value.split('\n').map(s=>s.trim()).filter(Boolean);
        if (!ver || !date || !notes.length){ alert('–ó–∞–ø–æ–ª–Ω–∏ –≤–µ—Ä—Å–∏—é, –¥–∞—Ç—É –∏ —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π.'); return; }

        // –°–æ–∑–¥–∞—ë–º –±–ª–æ–∫ –≤–µ—Ä—Å–∏–∏
        const div = document.createElement('div');
        div.className = 'old-version';
        const ul = `<ul>${notes.map(n=>`<li>${n.replace(/</g,"&lt;")}</li>`).join('')}</ul>`;
        div.innerHTML = `<strong>–í–µ—Ä—Å–∏—è ${ver}</strong>${ul}`;

        // –í—Å—Ç–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é —Å–≤–µ—Ä—Ö—É
        const panel = $('#versionsPanel');
        panel.insertBefore(div, panel.children[1]); // –ø–æ—Å–ª–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞

        // –û–±–Ω–æ–≤–∏–º –≤–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫ –∫–∞–∫ —Å–∞–º—ã–π —Å–≤–µ–∂–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ ‚Äî –º–æ–∂–Ω–æ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ç—å)
        $('#versionLine').textContent = `–í–µ—Ä—Å–∏—è ${ver} –æ—Ç ${date}`;
        const main = $('#mainChangelogBlock');
        // –ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞: –æ—á–∏—Å—Ç–∏—Ç—å –∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å, –≥—Ä—É–ø–ø–∏—Ä—É—è –ø–æ —Å–µ–∫—Ü–∏—è–º
        main.innerHTML = `<h2>–ß—Ç–æ –Ω–æ–≤–æ–≥–æ ‚Äî ${ver}</h2>`;
        renderSections(notes, main);

        addModal.style.display = 'none';
      });

      // ===== helper: –ª–∏–Ω–∏–∏ -> —Å–µ–∫—Ü–∏–∏ (h3 + ul) =====
      const sectionHints = ['üë∑','üßë‚Äçüíº','üåê','üí¨'];
      function isHeader(line){
        if (!line) return false;
        const s = line.trim();
        if (sectionHints.some(e => s.startsWith(e))) return true;
        if (s.length <= 30 && !/[.!?]$/.test(s)) return true;
        return false;
      }
      function renderSections(lines, container){
        let currentTitle = null, buf = [];
        function flush(){
          if (currentTitle){ const h3 = document.createElement('h3'); h3.textContent = currentTitle; container.appendChild(h3); }
          if (buf.length){ const ul = document.createElement('ul'); buf.forEach(t=>{ const li=document.createElement('li'); li.textContent=t; ul.appendChild(li); }); container.appendChild(ul); }
          currentTitle=null; buf=[];
        }
        lines.forEach(line=>{
          if (isHeader(line)){ flush(); currentTitle = line; }
          else { buf.push(line); }
        });
        flush();
      }
    })();
  </script>
</body>
</html>
